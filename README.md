# 中共プロパガンダ・テキストジェネレーター

中共のプロパガンダ風テキスト画像を生成するWebアプリケーションです。

## 機能

- **4つの背景テーマ**
  - 外交部ver（背景画像1）
  - 外交部2ver（背景画像2）
  - 国防部ver（背景画像3）
  - 毛宁ver（背景画像4）

- **多言語対応**
  - 日本語
  - 英語
  - 繁体中文
  - 簡体中文
  - 韓国語

- **カスタマイズ可能な設定**
  - テキストのフォントサイズ、行間、色
  - 左右マージン、開始位置
  - フォント選択（明朝体風/ゴシック体風）
  - 引用符の有無
  - 影（ぼかし）の設定

- **特殊機能**
  - テキストの一部を金色でハイライト（`[g]...[/g]`タグ）
  - 毛宁verでは国旗を2つ選択可能（200以上の国旗から選択）
  - フッターテキストのカスタマイズ

- **出力**
  - JPG形式で画像を保存
  - 右クリックでも保存可能

## 使い方

1. ブラウザで`index.html`を開く
2. 左側の設定パネルで各種設定を調整
3. 背景画像を選択（外交部/国防部/毛宁）
4. テキストを入力または編集
5. 「JPGとして保存」ボタンで画像を保存

### 金色ハイライト機能

テキスト内で範囲を選択し、「選択部分を金色にする」ボタンをクリックすると、選択部分が`[g]...[/g]`タグで囲まれ、金色で表示されます。

### 毛宁verの国旗選択

毛宁verを選択すると、ヘッダー部分に表示する国旗を2つ選択できます。200以上の国旗から選択可能です。

## ファイル構成

```
ccpgen/
├── index.html          # メインHTMLファイル
├── styles.css          # スタイルシート
├── app.js              # JavaScriptロジック
├── flags.json          # 国旗データ（200以上の国旗）
├── default-texts.json  # 背景テーマと言語ごとのデフォルトテキスト
├── background.png      # 外交部ver背景画像
├── background1.png     # 外交部2ver背景画像
├── background2.png     # 国防部ver背景画像
├── background3.png     # 毛宁ver背景画像
└── locales/            # 多言語翻訳ファイル
    ├── ja/             # 日本語
    ├── en/              # 英語
    ├── zh-Hans/         # 簡体中文
    ├── zh-Hant/         # 繁体中文
    └── ko/              # 韓国語
```

## 技術スタック

- **HTML5 / CSS3**
- **JavaScript (Vanilla)**
- **Canvas API** - 画像生成
- **i18next** - 多言語対応
- **i18next-browser-languagedetector** - 言語自動検出

## カスタマイズ

### デフォルトテキストの変更

`default-texts.json`を編集することで、背景テーマと言語ごとのデフォルトテキストを変更できます。

```json
{
  "background.png": {
    "ja": "日本語のテキスト",
    "en": "English text",
    ...
  }
}
```

### 国旗の追加

`flags.json`に新しい国旗を追加できます。各国旗には以下のフィールドがあります：

- `code`: ISO 3166-1 alpha-2コード
- `emoji`: 国旗の絵文字
- `name`: 日本語名
- `nameEn`: 英語名
- `nameZhHans`: 簡体中文名（オプション）
- `nameZhHant`: 繁体中文名（オプション）
- `nameKo`: 韓国語名（オプション）

### 翻訳の追加

`locales/`ディレクトリ内の各言語の`translation.json`を編集することで、UIの翻訳を変更できます。

## リンク

- [GitHub リポジトリ](https://github.com/mixivalo/ccpgen)

